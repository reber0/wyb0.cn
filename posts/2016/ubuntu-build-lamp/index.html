<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content=""/>
  <meta name="author" content="Reber"/>
  
    
      <title>Ubuntu 搭建 LAMP | Reber&#39;s Blog</title>
    
  
  <link rel="stylesheet" href="/css/reset.css"/>
  <link rel="stylesheet" href="/css/font.css"/>
  <link rel="stylesheet" href="/css/smigle.css"/>
  
    <link rel="stylesheet" href="/css/monokai-sublime.min.css"/>
  
    <link rel="stylesheet" href="/css/style.css"/>
  
  
    <script src="/js/jquery-3.6.0.min.js"/></script>
  
    <script src="/js/highlight.min.js"/></script>
  
    <script src="/js/style.js"/></script>
  
  <link rel="icon" type="image/img" sizes="16x16" href="/img/logo.png">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
</head>

  <body>
    <header>
  <div id="brand">
    <a class="icon-link" href="https://wyb0.com/">
      <img
        class="icon"
        src="/img/logo.png"
      />
    </a>
    <div class="text">
      <a href="https://wyb0.com/"><h1>Reber&#39;s Blog</h1></a>
      <h3>只会一点点编程、只会一点点渗透</h3>
    </div>
  </div>
  <nav>
    
      
        
        <a href="/"><b>Home</b></a>
      
         | 
        <a href="/posts/"><b>Posts</b></a>
      
         | 
        <a href="/categories/"><b>Categories</b></a>
      
         | 
        <a href="/tags/"><b>Tags</b></a>
      
         | 
        <a href="/about/"><b>About</b></a>
      
         | 
        <a href="/friends/"><b>Friends</b></a>
      
    
  </nav>
  <hr />
</header>

    <div id="content">
      
  <main>
    <article>
      <h1>Ubuntu 搭建 LAMP</h1>
      <div class="post-meta">
  <strong>
    <span>Posted on</span>
    <time>2016-05-07</time>
    <span>in</span>
    
      <a href="/categories/Linux">Linux</a>, 
      <a href="/categories/Server">Server</a>
  </strong>
  <span> • 867 words</span>
  
  
  
    <div>
      <span>Tags:</span>
      
        <a href="/tags/server">server</a>
    </div>
  
</div>

      <div>

<h3 id="0x00-环境">0x00 环境</h3>

<p>我是在虚拟机中安装14.04.4版的Ubuntu <a href="http://mirrors.163.com/ubuntu-releases/14.04.4/ubuntu-14.04.4-desktop-amd64.iso">下载Ubuntu14.04.4</a></p>

<h3 id="0x01-配源或选择最快的更新服务器">0x01 配源或选择最快的更新服务器</h3>

<ul>
<li><p>选择最快的更新服务器:<br />
System Settings &ndash;&gt; Software &amp; Updates &ndash;&gt; Download from:other &ndash;&gt; Select Best Server &ndash;&gt; Choose Serve &ndash;&gt; Close</p></li>

<li><p>配源:<br />
reber@ubuntu:~$ cp /etc/apt/sources.list /etc/apt/sources.list.bak<br />
reber@ubuntu:~$ vim /etc/apt/sources.list</p></li>
</ul>

<pre><code>中科大源：
deb http://debian.ustc.edu.cn/ubuntu/ trusty main restricted universe multiverse
deb http://debian.ustc.edu.cn/ubuntu/ trusty-security main restricted universe multiverse
deb http://debian.ustc.edu.cn/ubuntu/ trusty-updates main restricted universe multiverse
deb http://debian.ustc.edu.cn/ubuntu/ trusty-proposed main restricted universe multiverse
deb http://debian.ustc.edu.cn/ubuntu/ trusty-backports main restricted universe multiverse
deb-src http://debian.ustc.edu.cn/ubuntu/ trusty main restricted universe multiverse
deb-src http://debian.ustc.edu.cn/ubuntu/ trusty-security main restricted universe multiverse
deb-src http://debian.ustc.edu.cn/ubuntu/ trusty-updates main restricted universe multiverse
deb-src http://debian.ustc.edu.cn/ubuntu/ trusty-proposed main restricted universe multiverse
deb-src http://debian.ustc.edu.cn/ubuntu/ trusty-backports main restricted universe multiverse

阿里源：
deb http://mirrors.aliyun.com/ubuntu/ trusty main multiverse restricted universe
deb http://mirrors.aliyun.com/ubuntu/ trusty-backports main multiverse restricted universe
deb http://mirrors.aliyun.com/ubuntu/ trusty-proposed main multiverse restricted universe
deb http://mirrors.aliyun.com/ubuntu/ trusty-security main multiverse restricted universe
deb http://mirrors.aliyun.com/ubuntu/ trusty-updates main multiverse restricted universe
deb-src http://mirrors.aliyun.com/ubuntu/ trusty main multiverse restricted universe
deb-src http://mirrors.aliyun.com/ubuntu/ trusty-backports main multiverse restricted universe
deb-src http://mirrors.aliyun.com/ubuntu/ trusty-proposed main multiverse restricted universe
deb-src http://mirrors.aliyun.com/ubuntu/ trusty-security main multiverse restricted universe
deb-src http://mirrors.aliyun.com/ubuntu/ trusty-updates main multiverse restricted universe
</code></pre>

<ul>
<li>升级<br />
reber@ubuntu:~$ sudo apt-get update<br />
reber@ubuntu:~$ sudo apt-get upgrade
<br /></li>
</ul>

<h3 id="0x02-简单配置">0x02 简单配置</h3>

<pre><code class="language-bash">$ sudo apt-get install open-vm-tools-desktop fuse
$ sudo apt-get install vim
$ sudo apt-get install nautilus-open-terminal  #注销,再次登陆即可任意地方右键打开终端
$ vim /etc/default/apport   #更改enabled=0可解决开机总是提示有错误
$ vim ~/.bashrc  #添加alias c='clear'
</code></pre>

<h3 id="0x03-安装输入法">0x03 安装输入法</h3>

<pre><code>apt-get -f install可解决依赖问题
reber@ubuntu:~$ apt-get install ibus-sunpinyin   #安装后重启系统
进入设置：system setting-&gt;text entry-&gt;添加sunpinyin
</code></pre>

<h3 id="0x04-配置apache-mysql-php">0x04 配置Apache/MySQL/PHP</h3>

<ul>
<li>安装</li>
</ul>

<pre><code class="language-bash">sudo apt-get install apache2
sudo apt-get install mysql-client mysql-server
sudo apt-get install php5 php5-gd php5-mysql libapache2-mod-php5 libapache2-mod-auth-mysql
sudo chmod 777 /var/www   #为了方便
</code></pre>

<ul>
<li>解决乱码问题</li>
</ul>

<pre><code>查看编码：
    mysql&gt; show variables like 'char%';
apache：
    sudo vim /etc/apache2/apache2.conf
    最后添加AddDefaultCharset UTF-8
mysql：
    编辑数据库配置文件
    在[client]下面添加：default-character-set=utf8
    在[mysqld]在下面添加：character_set_server=utf8
                        init_connect='SET NAMES utf8'
</code></pre>

<ul>
<li>测试数据库连接</li>
</ul>

<pre><code>&lt;?php
    $link = mysql_connect(&quot;localhost&quot;, &quot;root&quot;, &quot;password&quot;);
    if(!$link)
        die('Could not connect: ' . mysql_error());
    else
        echo &quot;Mysql 配置正确!&quot;;
    mysql_close($link);
?&gt;
</code></pre>

<ul>
<li>禁止远程连接</li>
</ul>

<pre><code>mysql&gt; use mysql;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql&gt; update user set host='%' where user='root';
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql&gt; flush privileges;
Query OK, 0 rows affected (0.00 sec)

mysql&gt; select host,user from user;
+-----------+------------------+
| host      | user             |
+-----------+------------------+
| %         | root             |
| localhost | debian-sys-maint |
| localhost | mysql.session    |
| localhost | mysql.sys        |
+-----------+------------------+
4 rows in set (0.00 sec)
</code></pre>

<h3 id="0x05-管理开机自启">0x05 管理开机自启</h3>

<pre><code>ubuntu管理软件自启一般用rcconf：sudo apt-get install rcconf
ubuntu添加mysql自启可以在/etc/rc.local添加/etc/init.d/mysql start
</code></pre>

<h3 id="0x06-调时间">0x06 调时间</h3>

<pre><code># 查看系统时间
$ date                                         

# 设置当前系统时间为2015年5月8日19点48分0秒
$ date -s &quot;2015-5-8 19:48:00&quot;     
</code></pre>
</div>
    </article>
  </main>

    </div>
    <footer>
  <hr />
  
    <p id="social">
      Find me around the web:
      <br />
      
        
        <a href="https://github.com/reber0?_blank">GitHub</a>
      
         | 
        <a href="https://weibo.com/u/5819760166?_blank">Weibo</a>
      
    </p>
  
  <p class="copyright">
    Copyright © 2015-2022
    <a href="https://wyb0.com/"><strong>Reber</strong></a>.

    Built with
    <a href="http://www.gohugo.io/">Hugo</a>,
    using the theme
    <a href="https://gitlab.com/ian-s-mcb/smigle-hugo-theme">smigle</a>.
  </p>
</footer>

  </body>
</html>
